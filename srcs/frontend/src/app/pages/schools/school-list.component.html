<div class="grid cols-3" style="align-items:center">
	<h2 style="margin-top:0">Schools</h2>
	<div>
		<input
			class="input"
			type="search"
			placeholder="Search by name or address"
			[(ngModel)]="searchTerm"
			(ngModelChange)="onSearchTerm($event)"
		/>
		<div *ngIf="regionFilter" class="note" style="margin-top:6px">Filtered by Region: {{ regionFilter }}</div>
	</div>
	<div style="display:flex;gap:8px;justify-content:flex-end">
		<select class="input" [(ngModel)]="sort" (ngModelChange)="onSortChange($event)">
			<option value="nameAsc">Name Aâ€“Z</option>
			<option value="nameDesc">Name Zâ€“A</option>
		</select>
		<a class="btn" routerLink="/schools/new" *ngIf="isGlobal() || isRegion()">+ Create School</a>
	</div>
</div>
<div *ngIf="isLoading">Loadingâ€¦</div>
<div class="grid cols-3" *ngIf="!isLoading">
	<a class="card" *ngFor="let s of filteredSchools" [routerLink]="['/schools', s.id]">
		<div style="display:flex;align-items:center;justify-content:space-between">
			<div style="font-weight:600">{{ s.name }}</div>
			<button class="btn secondary" *ngIf="isGlobal()" (click)="$event.preventDefault(); viewAsSchool(s)" title="View as School">
				ğŸ‘
			</button>
		</div>
		<div class="note">{{ s.address }}</div>
		<div class="note">Region: {{ s.regionId }}</div>
	</a>
	<div *ngIf="!filteredSchools.length" class="note">No schools</div>
</div>

